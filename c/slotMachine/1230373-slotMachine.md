
# プログラムの説明

これはスロットをコンソール上で実行できるプログラムである.

スロットのリールはコンソール上で次のように表示される(リールが3個の場合). リールの表示された数字は時間が進むごとに変化する.
```console

| 1 | 2 | 3 |

```

## 実行環境

実行環境は次の通りである.
OS: Ubuntu 20.04.3 LTS(WSL)  
コンパイラ: gcc version 9.3.0
なお, 本プログラムはpthreadを使用するのでUNIX系OS以外での動作は保証しない.
  

## コンパイルおよび実行方法
コンパイルおよび実行するためのコマンドは以下の通りである.
```console
$ gcc -pthread 1230373-slotMachine.c
$ ./a.out
```  

## 操作方法
操作はエンターキーによって行い, エンターキーを押すことで左から順にリールを止めていく.

なお, このプログラムは難易度調整等が可能であり, プログラム冒頭のマクロ定義部分を変更することで行う.
各マクロの機能は次の通りである.

REELLEN: 各リールの長さ(リール内の数値の最大値+1). ただし, これは1以上でなければならない.
NUM_REELS: リールの数, ただし, これは2以上でなければならない.
SLEEP_MILSEC: 表示が切り替わる数値(リールが回転する速度). マイクロ秒単位で指定する.


## 勝利条件
勝利条件は同じ数字が横一列に揃ったときのみである.

## 実装方法
本プログラムでは, リールとスロットの情報を構造体に格納し, これらをマクロで定義した通りに生成することでスロットマシンを作成する. また, 出力と入力はpthreadを用いて非同期的に処理を行う.
  
# 実行例
NUM_REELS = 4, REELLEN = 10 で, プログラムを実行して勝利した場合に表示されるコンソールは次の通りである.
```console
| 5 | 5 | 5 | 5 |
win
$
```

NUM_REELS = 3, REELLEN 20で, プログラムを実行して失敗した場合に表示されるコンソールは次の通りである.
```console
| 14 | 10 | 0 |
lose
$
```

# 感想
次回の課題がサーバの作成とのことだったので, 今回の入力/出力の部分が次回の受信/送信に対応すると考えて, ノンブロッキングで処理ができるように工夫した. C言語での非同期的な処理を実装したのは初めてだったので面白かった.